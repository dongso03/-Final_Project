<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search API Example</title>
</head>
<body>
    <form id="searchForm" onsubmit="search(event)" method="post">
        <input type="text" id="searchInput"> 
        <input type="submit">
    </form>
    <div id="container"></div>
</body>
<script>
    const container = document.getElementById("container");

    function search(event) {
        event.preventDefault(); // 폼 제출 기본 동작 방지

        const keywordInput = document.getElementById("searchInput");
        const keyword = keywordInput.value;

        fetch(`http://localhost:8080/api/search?keyword=${keyword}`)
        .then((resp) => {
            if (!resp.ok) {
                throw new Error("Failed to fetch");
            }
            return resp.json();
        })
        .then((data) => {
            let p = document.createElement("p");
            p.innerText = JSON.stringify(data);
            container.appendChild(p);
        })
        .catch((error) => {
            let p = document.createElement("p");
            p.innerText = error.message;
            container.appendChild(p);
        });
    }
</script>
</html>